(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{244:function(e,t,n){},284:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(64),s=n.n(c),i=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,285)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},o=n(6),u=n(12),l=n(124),d=n(122),j=n(10),m=n.n(j),p=n(17),h=n(71),b=n(3),f=n(125),O=n.n(f),_=n(31),g=n.n(_),x=O.a.create({withCredentials:!0,baseURL:"https://todo-app-large-backend.herokuapp.com/main/"}),v=function(){return x.get("get_user_info/").then((function(e){return 200===e.status&&e.data}),(function(e){return null}))},N=function(e){return x.post("login/",e,{headers:{"X-CSRFToken":g.a.get("csrftoken")}}).then((function(e){return e.status}),(function(e){return e.response?e.response.status:500}))},k=function(){return x.get("logout/").then((function(e){return e.status}))},y=function(e){return console.log(g.a.get("csrftoken")),x.post("registration/",e,{headers:{"X-CSRFToken":g.a.get("csrftoken")}}).then((function(e){return e.status}),(function(e){return e.response?e.response.status:500}))},C=function(e){var t="get_user_groups/";return null!==e&&(t="get_user_groups/?filter=".concat(e)),x.get(t).then((function(e){return 200===e.status&&e.data}),(function(e){return null}))},w=function(){return x.get("get_user_mini_groups/").then((function(e){return 200===e.status&&e.data}),(function(e){return null}))},T=function(e){return x.post("create_group/",e,{headers:{"X-CSRFToken":g.a.get("csrftoken")}}).then((function(e){return 201===e.status&&e.data}),(function(e){return null}))},S=function(e){return x.post("create_task/",e,{headers:{"X-CSRFToken":g.a.get("csrftoken")}}).then((function(e){return 201===e.status&&e.data}),(function(e){return null}))},F=function(e){var t=new FormData;return t.append("photo",e),x.post("update_photo/",t,{headers:{"X-CSRFToken":g.a.get("csrftoken")}}).then((function(e){return 201===e.status&&e.data}),(function(e){return null}))},G=function(e){return x.post("update_task/",e,{headers:{"X-CSRFToken":g.a.get("csrftoken")}}).then((function(e){return 201===e.status?e.data:e.status}),(function(e){return null}))},P=function(e){return x.post("update_group/",e,{headers:{"X-CSRFToken":g.a.get("csrftoken")}}).then((function(e){return 201===e.status?e.data:e.status}),(function(e){return null}))},L="my-app/main/SET_GROUPS",E="my-app/main/ADD_GROUP",U="my-app/main/UPDATE_GROUP",D="my-app/main/DELETE_GROUP",A="my-app/main/TOGGLE_IS_FETCHING",I="my-app/main/SET_MINI_GROUPS",z="my-app/main/TOGGLE_IS_FETCHING_MINI_GROUPS",M="my-app/main/ADD_TASK",B="my-app/main/UPDATE_TASK",R="my-app/main/DELETE_TASK",Z="my-app/main/TOGGLE_IS_FILTERED",H={groups:[],miniGroups:[],filterText:"",isFetchingMiniGroups:!1,isFetching:!1,isFiltered:!1},X=function(e){return{type:L,groups:e}},V=function(e,t){return{type:U,id:e,groupname:t}},q=function(e){return{type:D,id:e}},K=function(e){return{type:A,boolean:e}},J=function(e){return{type:z,boolean:e}},W=function(e,t,n,a,r,c,s){return{type:B,group_id:e,id:t,taskName:n,timedelta:a,task_type:r,is_completed:c,deadline:s}},$=function(e){return{type:R,id:e}},Q=function(e){return{type:Z,boolean:e}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var t=Object(p.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(K(!0)),t.next=3,C(e);case 3:(a=t.sent)&&(n(X(a)),n(Q(null!==e))),n(K(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(b.a)(Object(b.a)({},e),{},{groups:t.groups.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{tasks:e.tasks.map((function(e){return Object(b.a)({},e)}))})}))});case E:return Object(b.a)(Object(b.a)({},e),{},{groups:[].concat(Object(h.a)(e.groups),[{id:t.id,name:t.name,tasks:[]}]),miniGroups:[].concat(Object(h.a)(e.miniGroups),[{id:t.id,name:t.name}])});case U:return Object(b.a)(Object(b.a)({},e),{},{groups:e.groups.map((function(e){return e.id===t.id?Object(b.a)(Object(b.a)({},e),{},{name:t.groupname}):e})),miniGroups:e.miniGroups.map((function(e){return e.id===t.id?Object(b.a)(Object(b.a)({},e),{},{name:t.groupname}):e}))});case D:return Object(b.a)(Object(b.a)({},e),{},{groups:e.groups.filter((function(e){return e.id!==t.id})),miniGroups:e.miniGroups.filter((function(e){return e.id!==t.id}))});case A:return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.boolean});case I:return Object(b.a)(Object(b.a)({},e),{},{miniGroups:t.miniGroups});case z:return Object(b.a)(Object(b.a)({},e),{},{isFetchingMiniGroups:t.boolean});case M:return Object(b.a)(Object(b.a)({},e),{},{groups:e.groups.map((function(e){return e.id===t.group_id?Object(b.a)(Object(b.a)({},e),{},{tasks:[].concat(Object(h.a)(e.tasks),[{id:t.id,is_completed:!1,name:t.newTaskText,task_type:t.task_type,created_at:t.createdAt,deadline:t.deadline,timedelta:t.timedelta}])}):e}))});case B:return Object(b.a)(Object(b.a)({},e),{},{groups:e.groups.map((function(e){return e.groupId===t.groupId?Object(b.a)(Object(b.a)({},e),{},{tasks:e.tasks.map((function(e){return e.id===t.id?Object(b.a)(Object(b.a)({},e),{},{name:t.taskName||e.name,timedelta:t.timedelta||e.timedelta,task_type:t.task_type||e.task_type,is_completed:t.is_completed,deadline:t.deadline}):e}))}):e}))});case R:return Object(b.a)(Object(b.a)({},e),{},{groups:e.groups.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{tasks:e.tasks.filter((function(e){return e.id!==t.id}))})}))});case Z:return Object(b.a)(Object(b.a)({},e),{},{isFiltered:t.boolean});default:return e}},te=n(18),ne="my-app/auth/SET_USER_DATA",ae="my-app/auth/TOGGLE_IS_FETCHING_USER_DATA",re="my-app/auth/TOGGLE_IS_FETCHING_PHOTO",ce="my-app/auth/TOGGLE_IS_AUTH",se="my-app/auth/UPDATE_PHOTO",ie={user:{username:null,photo:null},isAuth:null,isFetchingPhoto:!1,isFetchingUserData:!1},oe=function(e,t){return{type:ne,username:e,photoUrl:t}},ue=function(e){return{type:ae,boolean:e}},le=function(e){return{type:re,boolean:e}},de=function(e){return{type:ce,boolean:e}},je=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ue(!0)),e.next=3,v();case 3:(n=e.sent)?(t(oe(n.username,n.photo)),t(de(!0))):t(de(!1)),t(ue(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},me=function(e){return function(){var t=Object(p.a)(m.a.mark((function t(n){var a,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e);case 2:201===(a=t.sent)?n(je()):(r=400===a?"Incorrect login or password":"Some error occured",n(Object(te.b)("login",{_error:r})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(b.a)(Object(b.a)({},e),{},{user:{username:t.username,photo:t.photoUrl?"http://localhost:8000".concat(t.photoUrl):null}});case ae:return Object(b.a)(Object(b.a)({},e),{},{isFetchingUserData:t.boolean});case re:return Object(b.a)(Object(b.a)({},e),{},{isFetchingPhoto:t.boolean});case ce:return Object(b.a)(Object(b.a)({},e),{},{isAuth:t.boolean});case se:return Object(b.a)(Object(b.a)({},e),{},{user:Object(b.a)(Object(b.a)({},e.user),{},{photo:t.photoUrl})});default:return e}},he="my-app/app/SET_IS_INITIALIZED",be={isInitialized:!1},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object(b.a)(Object(b.a)({},e),{},{isInitialized:t.boolean});default:return e}},Oe=Object(u.c)({main:ee,auth:pe,form:d.a,app:fe}),_e=Object(u.d)(Oe,Object(u.a)(l.a)),ge=n(29),xe=n(127),ve=n(128),Ne=n(132),ke=n(131),ye=n(11),Ce=(n(244),function(e){return e.auth.isAuth}),we=function(e){return e.main.groups},Te=function(e){return e.auth.user.username},Se=function(e){return e.auth.user.photo},Fe=function(e){return e.main.isFetching},Ge=function(e){return e.auth.isFetchingUserData},Pe=function(e){return e.main.isFiltered},Le=function(e){return e.main.miniGroups},Ee=function(e){return e.main.isFetchingMiniGroups},Ue=function(e){return e.auth.isFetchingPhoto},De=n(120),Ae=n(121),Ie=n(53),ze=n(0),Me=function(e){var t=e.input,n=e.meta,a=Object(Ie.a)(e,["input","meta"]),r=n.touched&&n.error;return Object(ze.jsxs)("div",{className:r?"authField field_wrapper_error":"authField",children:[Object(ze.jsx)("input",Object(b.a)(Object(b.a)({},t),a)),r&&Object(ze.jsx)("span",{className:"input__error",children:n.error})]})},Be=function(e){var t=e.input,n=e.meta,a=e.children,r=Object(Ie.a)(e,["input","meta","children"]),c=n.touched&&n.error;return Object(ze.jsxs)("div",{className:c?"field_wrapper_error":"",children:[Object(ze.jsx)("select",Object(b.a)(Object(b.a)(Object(b.a)({},t),r),{},{children:a})),c&&Object(ze.jsx)("span",{className:"input__error",children:n.error})]})},Re=function(e){if(!e)return"This field is required!"},Ze=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols!")}},He=function(e){if(!/^[\w.@+-]+$/.test(e))return"Usernames may contain alphanumeric, _, @, +, . and - characters"},Xe=Ze(30),Ve=function(e){return Object(ze.jsxs)("form",{className:"sidePanel__block",method:"POST",onSubmit:e.handleSubmit,children:[Object(ze.jsx)("div",{className:"sidePanel__field",children:Object(ze.jsx)(De.a,{component:Me,name:"name",className:"form__input",placeholder:"Groupname:",validate:[Re,Xe]})}),Object(ze.jsx)("button",{type:"submit",className:"form__submit",children:"Create"})]})};Ve=Object(Ae.a)({form:"groupCreation",onSubmitSuccess:function(e,t){return t(Object(te.a)("groupCreation"))}})(Ve);var qe=Object(o.b)(null,{createGroup:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e);case 2:(a=t.sent)&&n((r=a.id,c=a.name,{type:E,id:r,name:c}));case 4:case"end":return t.stop()}var r,c}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){return Object(ze.jsx)(Ve,{onSubmit:function(t){e.createGroup(t)}})})),Ke=Object(o.b)(null,{updatePhoto:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(le(!0)),t.next=3,F(e);case 3:(a=t.sent)&&n((r=a.photo,{type:se,photoUrl:r})),n(le(!1));case 6:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){return Object(ze.jsxs)("form",{className:"sidePanel__block",method:"POST",onSubmit:function(t){t.target.children[0].children[0].files.length&&(e.updatePhoto(t.target.children[0].children[0].files[0]),t.target.children[0].children[0].value=""),t.preventDefault()},children:[Object(ze.jsx)("div",{className:"sidePanel__field",children:Object(ze.jsx)("input",{type:"file",name:"photo",className:"form__input",placeholder:"Groupname:",accept:".jpg,.jpeg,.png"})}),Object(ze.jsx)("button",{type:"submit",className:"form__submit",children:"Update"})]})})),Je=Object(o.b)((function(e){return{groups:Le(e)}}),{})((function(e){return e.groups.map((function(e){return Object(ze.jsx)("option",{value:e.id,children:e.name},e.id)}))})),We=Ze(30),$e=function(e){return Object(ze.jsxs)("form",{className:"sidePanel__block",method:"POST",onSubmit:e.handleSubmit,children:[Object(ze.jsx)("div",{className:"sidePanel__field",children:Object(ze.jsx)(De.a,{component:Be,className:"sidePanel__select",name:"group_id",validate:[Re],children:Object(ze.jsx)(Je,{})})}),Object(ze.jsx)("div",{className:"sidePanel__field",children:Object(ze.jsx)(De.a,{component:Me,className:"form__input",name:"taskname",placeholder:"Taskname:",validate:[Re,We]})}),Object(ze.jsx)("div",{className:"sidePanel__field",children:Object(ze.jsx)(De.a,{component:Me,name:"deadline",type:"datetime-local",className:"form__input sidePanel__deadline",validate:[Re,We]})}),Object(ze.jsx)("button",{type:"submit",className:"form__submit",children:"Create"})]})};$e=Object(Ae.a)({form:"taskCreation",onSubmitSuccess:function(e,t){return t(Object(te.a)("taskCreation"))}})($e);var Qe=Object(o.b)(null,{createTask:function(e,t){return function(){var n=Object(p.a)(m.a.mark((function n(a){var r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S(e);case 2:(r=n.sent)&&a((c=t,s=r.name,i=r.task_type,o=r.timedelta,u=r.created_at,l=r.id,d=r.deadline,{type:M,group_id:c,newTaskText:s,task_type:i,timedelta:o,createdAt:u,id:l,deadline:d}));case 4:case"end":return n.stop()}var c,s,i,o,u,l,d}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return Object(ze.jsx)($e,{onSubmit:function(t){e.createTask(t,+t.group_id)}})})),Ye=function(e){return Object(ze.jsxs)("div",{className:"sidePanel__group",children:[Object(ze.jsxs)("svg",{className:"sidePanel__group-icon",width:"19px",viewBox:"-32 0 440 440.5",xmlns:"http://www.w3.org/2000/svg",children:[Object(ze.jsx)("path",{className:"path",d:"m326.648438 31.300781h-17.5v-21.300781c0-5.523438-4.476563-10-10-10-5.519532 0-10 4.476562-10 10v21.398438h-201.898438v-21.398438c0-5.523438-4.476562-10-10-10s-10 4.476562-10 10v21.398438h-17c-27.609375.011718-49.988281 22.390624-50 50v309.101562c.011719 27.609375 22.390625 49.988281 50 50h276.300781c27.609375-.011719 49.988281-22.390625 50-50v-309.199219c0-27.574219-22.324219-49.945312-49.902343-50zm30 359.097657c-.046876 16.550781-13.449219 29.953124-30 30h-276.398438c-16.546875-.046876-29.953125-13.449219-30-30v-309.097657c.046875-16.550781 13.453125-29.953125 30-30h17v15.5c0 5.523438 4.476562 10 10 10s10-4.476562 10-10v-15.5h201.898438v15.5c0 5.523438 4.480468 10 10 10 5.523437 0 10-4.476562 10-10v-15.5h17.5c16.550781.046875 29.953124 13.449219 30 30zm0 0"}),Object(ze.jsx)("path",{className:"path",d:"m127.449219 212-36.898438 35.199219-17-17c-3.894531-3.894531-10.207031-3.894531-14.101562 0s-3.894531 10.207031 0 14.101562l23.902343 23.898438c1.875 1.890625 4.4375 2.9375 7.097657 2.902343 2.582031.023438 5.066406-.984374 6.902343-2.800781l43.898438-42c2.597656-2.457031 3.679688-6.117187 2.828125-9.589843-.851563-3.472657-3.503906-6.222657-6.941406-7.195313-3.441407-.976563-7.140625-.027344-9.6875 2.484375zm0 0"}),Object(ze.jsx)("path",{className:"path",d:"m310.449219 230.199219h-115c-5.523438 0-10 4.476562-10 10 0 5.523437 4.476562 10 10 10h115c5.523437 0 10-4.476563 10-10 0-5.523438-4.476563-10-10-10zm0 0"}),Object(ze.jsx)("path",{className:"path",d:"m127.449219 112-36.898438 35.199219-17-17c-3.894531-3.894531-10.207031-3.894531-14.101562 0s-3.894531 10.207031 0 14.101562l23.902343 23.898438c1.875 1.890625 4.4375 2.9375 7.097657 2.902343 2.582031.023438 5.066406-.984374 6.902343-2.800781l43.898438-42c2.597656-2.457031 3.679688-6.117187 2.828125-9.589843-.851563-3.472657-3.503906-6.222657-6.941406-7.195313-3.441407-.976563-7.140625-.027344-9.6875 2.484375zm0 0"}),Object(ze.jsx)("path",{className:"path",d:"m310.449219 130.199219h-115c-5.523438 0-10 4.476562-10 10 0 5.523437 4.476562 10 10 10h115c5.523437 0 10-4.476563 10-10 0-5.523438-4.476563-10-10-10zm0 0"}),Object(ze.jsx)("path",{className:"path",d:"m127.449219 312-36.898438 35.199219-17-17c-3.894531-3.894531-10.207031-3.894531-14.101562 0s-3.894531 10.207031 0 14.101562l23.902343 23.898438c1.875 1.890625 4.4375 2.9375 7.097657 2.902343 2.582031.023438 5.066406-.984374 6.902343-2.800781l43.898438-42c2.597656-2.457031 3.679688-6.117187 2.828125-9.589843-.851563-3.472657-3.503906-6.222657-6.941406-7.195313-3.441407-.976563-7.140625-.027344-9.6875 2.484375zm0 0"}),Object(ze.jsx)("path",{className:"path",d:"m310.449219 330.199219h-115c-5.523438 0-10 4.476562-10 10 0 5.523437 4.476562 10 10 10h115c5.523437 0 10-4.476563 10-10 0-5.523438-4.476563-10-10-10zm0 0"})]}),e.children]})},et=function(e){for(var t=[],n=0;n<e.count;n++)t.push(Object(ze.jsx)(Ye,{children:Object(ze.jsx)("div",{className:"sidePanel__load-group"})},n));return t},tt=Object(o.b)((function(e){return{miniGroups:Le(e),isFetching:Ee(e)}}),{getMiniGroups:function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(J(!0)),e.next=3,w();case 3:(n=e.sent)&&t({type:I,miniGroups:n}),t(J(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.miniGroups,n=e.isFetching,r=e.getMiniGroups;return Object(a.useEffect)((function(){r()}),[r]),Object(ze.jsxs)(ze.Fragment,{children:[(!!t.length||n)&&Object(ze.jsx)("p",{className:"sidePanel__heading",children:"Groups"}),Object(ze.jsx)("div",{className:"sidePanel__block",children:n?Object(ze.jsx)(et,{count:5}):t.map((function(e){return Object(ze.jsx)(Ye,{children:Object(ze.jsx)("span",{className:"sidePanel__groupname",children:e.name})},e.id)}))})]})})),nt=function(e){var t=e.styles;return Object(ze.jsx)("div",{className:"preloader",style:t})},at=Object(o.b)((function(e){return{isFetchingUserData:Ge(e),isFetchingPhoto:Ue(e),photoUrl:Se(e),username:Te(e)}}))((function(e){var t=e.isFetchingUserData,n=e.isFetchingPhoto,a=e.photoUrl,r=e.username;return Object(ze.jsxs)(ze.Fragment,{children:[Object(ze.jsx)("div",{className:"sidePanel__avatar",children:t?Object(ze.jsx)("div",{className:"avatar_loading"}):Object(ze.jsxs)(ze.Fragment,{children:[n&&Object(ze.jsx)(nt,{styles:{position:"absolute"}}),n&&Object(ze.jsx)("div",{className:"avatar_blur"}),a&&Object(ze.jsx)("img",{src:a,alt:"user avatar"})]})}),t?Object(ze.jsx)("div",{className:"username_loading"}):Object(ze.jsx)("h2",{className:"sidePanel__username",children:r})]})})),rt=Object(o.b)((function(e){return{groups:we(e),username:Te(e),photoUrl:Se(e),isFetchingUserData:Ge(e),isFetchingGroups:Fe(e)}}),{getUserData:je})((function(){return Object(ze.jsxs)("aside",{className:"sidePanel",children:[Object(ze.jsx)(at,{}),Object(ze.jsx)("p",{className:"sidePanel__heading",children:"Update photo"}),Object(ze.jsx)(Ke,{}),Object(ze.jsx)(tt,{}),Object(ze.jsx)("p",{className:"sidePanel__heading",children:"Create group"}),Object(ze.jsx)(qe,{}),Object(ze.jsx)("p",{className:"sidePanel__heading",children:"Create task"}),Object(ze.jsx)(Qe,{})]})})),ct=function(e){var t=e.handleSubmit,n=e.isFiltered,a=e.isFetching,r=e.getUserGroups,c=e.reset;return Object(ze.jsxs)(ze.Fragment,{children:[Object(ze.jsxs)("form",{autoComplete:"off",className:"main__form search",method:"GET",onSubmit:t,children:[Object(ze.jsx)(De.a,{name:"filterText",component:Me,className:"search__input",placeholder:"Search a task:"}),Object(ze.jsx)("button",{disabled:a,type:"submit",className:"search__button",children:Object(ze.jsx)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(ze.jsx)("path",{className:"path",d:"M12.5847 11.8409L9.49065 8.623C10.2862 7.67732 10.7221 6.48745 10.7221 5.24875C10.7221 2.35463 8.36742 0 5.47331 0C2.5792 0 0.224564 2.35463 0.224564 5.24875C0.224564 8.14286 2.5792 10.4975 5.47331 10.4975C6.5598 10.4975 7.59517 10.1698 8.48038 9.5477L11.5979 12.7901C11.7282 12.9254 11.9035 13 12.0913 13C12.2691 13 12.4377 12.9322 12.5657 12.809C12.8378 12.5472 12.8464 12.1132 12.5847 11.8409ZM5.47331 1.36924C7.61251 1.36924 9.35282 3.10954 9.35282 5.24875C9.35282 7.38795 7.61251 9.12825 5.47331 9.12825C3.3341 9.12825 1.5938 7.38795 1.5938 5.24875C1.5938 3.10954 3.3341 1.36924 5.47331 1.36924Z",fill:"black"})})})]}),n&&Object(ze.jsx)("button",{onClick:function(){c("search"),r()},className:"reset-filtering",children:"Reset"})]})};ct=Object(Ae.a)({form:"search"})(ct);var st=Object(o.b)((function(e){return{isFiltered:Pe(e),isFetching:Fe(e)}}),{getUserGroups:Y,reset:te.a})((function(e){return Object(ze.jsx)(ct,Object(b.a)({onSubmit:function(t){t.filterText&&e.getUserGroups(t.filterText)}},e))})),it=Object(o.b)((function(e){return{isAuth:Ce(e)}}),{logout:function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:200===e.sent&&(t(oe(null,null)),t(de(!1)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){return Object(ze.jsxs)("header",{className:"main__header",children:[Object(ze.jsx)(st,{}),e.isAuth&&Object(ze.jsx)("button",{className:"red-button",onClick:e.logout,children:"Logout"})]})})),ot=n(28);function ut(e,t){for(var n=[],a=0;a<e;a++)n.push([]);return t.forEach((function(t,a){var r=Math.ceil(a%e);n[r].push(t)})),n}var lt=n(16),dt=Object(o.b)((function(e,t){return Object(b.a)({},t)}),{updateTaskGroup:function(e,t){return function(){var n=Object(p.a)(m.a.mark((function n(a){var r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,P(e);case 2:(r=n.sent)&&"number"!==typeof r?a(V(t,r.name)):204===r&&a(q(t));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=Object(a.useState)(!1),n=Object(ot.a)(t,2),r=n[0],c=n[1],s=function(){c(!0)},i=function(){c(!1)},o={name:e.heading,action:"none"};return Object(ze.jsx)(lt.d,{initialValues:o,validate:function(e){var t={};return e.name||(t.name="This field is required!"),t},onSubmit:function(t,n){var a=n.setSubmitting;t.name===e.heading&&delete t.name,"none"===t.action&&delete t.action,0!==Object.keys(t).length&&(t.id=e.id,e.updateTaskGroup(t,e.id)),e.onToggleEditMode(),a(!1)},children:function(e){var t=e.isSubmitting;return Object(ze.jsxs)(lt.c,{className:"edit-group group__header",children:[Object(ze.jsxs)("div",{className:"edit-group__column",children:[Object(ze.jsx)(lt.b,{type:"text",name:"name",className:"form__input group__edit-input",placeholder:"Groupname:"}),Object(ze.jsx)(lt.a,{name:"name",render:function(e){return Object(ze.jsx)("span",{className:"input__error",children:e})}})]}),Object(ze.jsxs)("div",{className:"edit-group__buttons",children:[Object(ze.jsxs)("label",{onClick:s,className:"red-button"+(r?" action_selected":""),children:[Object(ze.jsx)(lt.b,{type:"radio",value:"delete",name:"action",className:"form__input hidden-radio"}),"Delete"]}),Object(ze.jsxs)("label",{onClick:i,className:"none-button",children:[Object(ze.jsx)(lt.b,{type:"radio",value:"none",name:"action",className:"form__input hidden-radio"}),"None"]}),Object(ze.jsx)("button",{disabled:t,type:"submit",className:"edit-button save-button",children:Object(ze.jsx)("svg",{height:"19",viewBox:"0 0 512.007 512.007",width:"26",xmlns:"http://www.w3.org/2000/svg",children:Object(ze.jsx)("g",{children:Object(ze.jsx)("path",{className:"path",d:"m511.927 126.537c-.279-2.828-1.38-5.666-3.315-8.027-.747-.913 6.893 6.786-114.006-114.113-2.882-2.882-6.794-4.395-10.612-4.394-9.096 0-329.933 0-338.995 0-24.813 0-45 20.187-45 45v422c0 24.813 20.187 45 45 45h422c24.813 0 45-20.187 45-45 .001-364.186.041-339.316-.072-340.466zm-166.927-96.534v98c0 8.271-6.729 15-15 15h-19v-113zm-64 0v113h-139c-8.271 0-15-6.729-15-15v-98zm64 291h-218v-19c0-8.271 6.729-15 15-15h188c8.271 0 15 6.729 15 15zm-218 161v-131h218v131zm355-15c0 8.271-6.729 15-15 15h-92c0-19.555 0-157.708 0-180 0-24.813-20.187-45-45-45h-188c-24.813 0-45 20.187-45 45v180h-52c-8.271 0-15-6.729-15-15v-422c0-8.271 6.729-15 15-15h52v98c0 24.813 20.187 45 45 45h188c24.813 0 45-20.187 45-45v-98h2.787l104.213 104.214z"})})})})]})]})}})})),jt=Object(o.b)((function(e,t){return Object(b.a)({},t)}),{updateTodoTask:function(e,t,n,a){return function(){var r=Object(p.a)(m.a.mark((function r(c){var s;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,G(e);case 2:(s=r.sent)&&"number"!==typeof s?c(W(a,t,n,s.timedelta,s.task_type,s.is_completed,s.deadline)):204===s&&c($(t));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=Object(a.useState)([!1,!1]),n=Object(ot.a)(t,2),r=n[0],c=n[1],s=function(){c([!0,!1])},i=function(){c([!1,!0])},o=function(){c([!1,!1])},u={name:e.taskName,deadline:e.deadline,action:"none"};return Object(ze.jsx)(lt.d,{initialValues:u,validate:function(e){var t={};return e.name||(t.name="This field is required!"),t},onSubmit:function(t,n){var a=n.setSubmitting;t.name===e.taskName&&delete t.name,"none"===t.action&&delete t.action,t.deadline||delete t.deadline,0!==Object.keys(t).length&&(t.id=e.id,e.updateTodoTask(t,e.id,t.name,e.groupId)),e.onToggleEditMode(),a(!1)},children:function(t){var n=t.isSubmitting;return Object(ze.jsxs)(lt.c,{className:"group__task task",children:[e.isCompleted?Object(ze.jsx)("div",{className:"task__state red",children:Object(ze.jsx)("span",{})}):Object(ze.jsx)("div",{className:"task__state",children:Object(ze.jsx)("p",{children:"?"})}),Object(ze.jsxs)("div",{className:"task__data",children:[e.isCompleted?Object(ze.jsx)("h3",{className:"task__name",children:e.taskName}):Object(ze.jsxs)(ze.Fragment,{children:[Object(ze.jsx)(lt.b,{type:"text",name:"name",className:"form__input",placeholder:"Taskname:"}),Object(ze.jsx)(lt.a,{name:"name",render:function(e){return Object(ze.jsx)("span",{className:"input__error",children:e})}})]}),Object(ze.jsx)("div",{className:"task__tags",children:Object(ze.jsxs)("div",{className:"task__tag",children:[Object(ze.jsxs)("svg",{className:"task__clock",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(ze.jsx)("path",{className:"path",d:"M5.79319 10.5895L8.30289 8.70718V4.87297C8.30289 4.48745 8.61451 4.17582 9.00004 4.17582C9.38556 4.17582 9.69719 4.48745 9.69719 4.87297V9.05579C9.69719 9.27538 9.594 9.48245 9.41833 9.61351L6.6298 11.7049C6.50433 11.799 6.3579 11.8444 6.21222 11.8444C5.99959 11.8444 5.79045 11.7488 5.65379 11.5648C5.42229 11.2573 5.48504 10.8202 5.79319 10.5895Z",fill:"#DBDBDB"}),Object(ze.jsx)("path",{className:"path",d:"M9 0C13.9629 0 18 4.0371 18 9C18 13.9629 13.9629 18 9 18C4.0371 18 0 13.9629 0 9C0 4.0371 4.0371 0 9 0ZM9 16.6057C13.1933 16.6057 16.6057 13.1933 16.6057 9C16.6057 4.80674 13.1933 1.39426 9 1.39426C4.80604 1.39426 1.39426 4.80674 1.39426 9C1.39426 13.1933 4.80674 16.6057 9 16.6057Z",fill:"#DBDBDB"})]}),e.isCompleted?Object(ze.jsx)("span",{className:"task__tagText",children:e.typeName}):Object(ze.jsx)(lt.b,{type:"datetime-local",name:"deadline",className:"form__input",placeholder:"Taskname:"})]})})]}),Object(ze.jsxs)("div",{className:"task__time",children:[Object(ze.jsx)("p",{className:"task__createdAt",children:e.createdAt}),Object(ze.jsxs)("div",{className:"task__timeLeft",children:[!e.isCompleted&&Object(ze.jsxs)("label",{onClick:s,className:"task__complete"+(r[0]?" action_selected":""),children:[Object(ze.jsx)(lt.b,{type:"radio",value:"complete",name:"action",className:"form__input hidden-radio"}),"Complete"]}),Object(ze.jsxs)("label",{onClick:i,className:"task__delete red-button"+(r[1]?" action_selected":""),children:[Object(ze.jsx)(lt.b,{type:"radio",value:"delete",name:"action",className:"form__input hidden-radio"}),"Delete"]}),Object(ze.jsxs)("label",{onClick:o,className:"none-button",children:[Object(ze.jsx)(lt.b,{type:"radio",value:"none",name:"action",className:"form__input hidden-radio"}),"None"]})]})]}),Object(ze.jsx)("button",{disabled:n,type:"submit",className:"edit-button save-button",children:Object(ze.jsx)("svg",{height:"19",viewBox:"0 0 512.007 512.007",width:"26",xmlns:"http://www.w3.org/2000/svg",children:Object(ze.jsx)("g",{children:Object(ze.jsx)("path",{className:"path",d:"m511.927 126.537c-.279-2.828-1.38-5.666-3.315-8.027-.747-.913 6.893 6.786-114.006-114.113-2.882-2.882-6.794-4.395-10.612-4.394-9.096 0-329.933 0-338.995 0-24.813 0-45 20.187-45 45v422c0 24.813 20.187 45 45 45h422c24.813 0 45-20.187 45-45 .001-364.186.041-339.316-.072-340.466zm-166.927-96.534v98c0 8.271-6.729 15-15 15h-19v-113zm-64 0v113h-139c-8.271 0-15-6.729-15-15v-98zm64 291h-218v-19c0-8.271 6.729-15 15-15h188c8.271 0 15 6.729 15 15zm-218 161v-131h218v131zm355-15c0 8.271-6.729 15-15 15h-92c0-19.555 0-157.708 0-180 0-24.813-20.187-45-45-45h-188c-24.813 0-45 20.187-45 45v180h-52c-8.271 0-15-6.729-15-15v-422c0-8.271 6.729-15 15-15h52v98c0 24.813 20.187 45 45 45h188c24.813 0 45-20.187 45-45v-98h2.787l104.213 104.214z"})})})})]})}})})),mt=function(e){var t=Object(a.useState)(!1),n=Object(ot.a)(t,2),r=n[0],c=n[1],s=function(){c((function(e){return!e}))};return r?Object(ze.jsx)(jt,Object(b.a)(Object(b.a)({},e),{},{onToggleEditMode:s})):Object(ze.jsxs)("div",{className:"group__task task",children:[Object(ze.jsx)("div",{className:"task__state ".concat(e.isCompleted?"red":"green"),children:Object(ze.jsx)("span",{})}),Object(ze.jsxs)("div",{className:"task__data",children:[Object(ze.jsx)("h3",{className:"task__name",children:e.taskName}),Object(ze.jsx)("div",{className:"task__tags",children:Object(ze.jsxs)("div",{className:"task__tag",children:[Object(ze.jsxs)("svg",{className:"task__clock",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(ze.jsx)("path",{className:"path",d:"M5.79319 10.5895L8.30289 8.70718V4.87297C8.30289 4.48745 8.61451 4.17582 9.00004 4.17582C9.38556 4.17582 9.69719 4.48745 9.69719 4.87297V9.05579C9.69719 9.27538 9.594 9.48245 9.41833 9.61351L6.6298 11.7049C6.50433 11.799 6.3579 11.8444 6.21222 11.8444C5.99959 11.8444 5.79045 11.7488 5.65379 11.5648C5.42229 11.2573 5.48504 10.8202 5.79319 10.5895Z",fill:"#DBDBDB"}),Object(ze.jsx)("path",{className:"path",d:"M9 0C13.9629 0 18 4.0371 18 9C18 13.9629 13.9629 18 9 18C4.0371 18 0 13.9629 0 9C0 4.0371 4.0371 0 9 0ZM9 16.6057C13.1933 16.6057 16.6057 13.1933 16.6057 9C16.6057 4.80674 13.1933 1.39426 9 1.39426C4.80604 1.39426 1.39426 4.80674 1.39426 9C1.39426 13.1933 4.80674 16.6057 9 16.6057Z",fill:"#DBDBDB"})]}),Object(ze.jsx)("span",{className:"task__tagText",children:e.typeName})]})})]}),Object(ze.jsxs)("div",{className:"task__time",children:[Object(ze.jsx)("p",{className:"task__createdAt",children:e.createdAt}),Object(ze.jsxs)("p",{className:"task__timeLeft",children:["Interval: ",e.timeLeft]})]}),Object(ze.jsx)("button",{className:"edit-button",onClick:s,style:{margin:"0 0 0 10px"},children:Object(ze.jsx)("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(ze.jsx)("path",{className:"path",d:"M15.8076 1.96028C14.9265 1.08081 13.4998 1.08081 12.6188 1.96028L11.8206 2.76287L3.32365 11.2553L3.30559 11.2735C3.30122 11.2778 3.30122 11.2825 3.29656 11.2825C3.28753 11.296 3.27399 11.3094 3.2651 11.323C3.2651 11.3275 3.26045 11.3275 3.26045 11.332C3.25142 11.3456 3.24705 11.3546 3.23788 11.3681C3.2335 11.3727 3.2335 11.377 3.22899 11.3817C3.22447 11.3952 3.21996 11.4043 3.2153 11.4178C3.2153 11.4222 3.21093 11.4222 3.21093 11.4268L1.32572 17.0959C1.27042 17.2573 1.31246 17.436 1.43392 17.5558C1.51928 17.64 1.63439 17.6871 1.75417 17.6867C1.80312 17.6858 1.85165 17.6782 1.89849 17.6641L7.56315 15.7744C7.56753 15.7744 7.56753 15.7744 7.57218 15.77C7.58643 15.7658 7.60012 15.7597 7.61267 15.7518C7.6162 15.7514 7.6193 15.7498 7.62184 15.7474C7.63525 15.7384 7.6533 15.7292 7.66685 15.7202C7.68025 15.7113 7.69393 15.6978 7.70748 15.6888C7.71199 15.6841 7.71636 15.6841 7.71636 15.6797C7.72102 15.6752 7.73005 15.6708 7.73456 15.6617L17.0297 6.36654C17.9092 5.48551 17.9092 4.0588 17.0297 3.17791L15.8076 1.96028ZM7.41883 14.7145L4.27987 11.5757L12.1363 3.71923L15.2753 6.85805L7.41883 14.7145ZM3.83773 12.41L6.57999 15.1521L2.46223 16.5231L3.83773 12.41ZM16.3939 5.73508L15.9158 6.2177L12.7767 3.0786L13.2594 2.59611C13.7875 2.06849 14.6434 2.06849 15.1716 2.59611L16.3982 3.82278C16.9223 4.35323 16.9204 5.20717 16.3939 5.73508Z",fill:"#69C789"})})})]})},pt=function(e){var t=Object(a.useState)(!1),n=Object(ot.a)(t,2),r=n[0],c=n[1],s=e.data.map((function(t){return Object(ze.jsx)(mt,{id:t.id,groupId:e.id,isCompleted:t.is_completed,deadline:t.deadline,groupname:e.heading,taskName:t.name,typeName:t.task_type,createdAt:t.created_at,timeLeft:t.timedelta},t.id)})),i=function(){c((function(e){return!e}))};return Object(ze.jsxs)("section",{className:"main__group group",children:[r?Object(ze.jsx)(dt,{id:e.id,heading:e.heading,onToggleEditMode:i}):Object(ze.jsxs)("header",{className:"group__header",children:[Object(ze.jsx)("h2",{className:"group__heading",children:e.heading}),Object(ze.jsx)("div",{onClick:i,className:"group__settings",children:Object(ze.jsx)("span",{})})]}),s]})};var ht=Object(o.b)((function(e){return{groups:we(e),isFiltered:Pe(e),isFetching:Fe(e)}}),{getUserGroups:Y})((function(e){var t=e.getUserGroups,n=Object(Ie.a)(e,["getUserGroups"]),r=2;return function(){function e(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var t=Object(a.useState)(e()),n=Object(ot.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){var t=function(){c(e())};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),r}().width<900&&(r=1),Object(a.useEffect)((function(){t()}),[t]),Object(ze.jsx)(ze.Fragment,{children:n.isFetching?Object(ze.jsx)("main",{className:"main__body loading",children:Object(ze.jsx)(nt,{})}):Object(ze.jsx)("main",{className:"main__body",children:ut(r,n.groups).map((function(e,t){return Object(ze.jsx)("div",{className:"main__side",children:(a=e,r=n.isFiltered,a.map((function(e){return r&&0===e.tasks.length?null:Object(ze.jsx)(pt,{id:e.id,heading:e.name,data:e.tasks,isEdit:e.isEdit},e.id)})))},t);var a,r}))})})})),bt=function(e){return Object(ze.jsxs)("div",{className:"main",children:[Object(ze.jsx)(it,{}),Object(ze.jsx)(ht,{})]})},ft=function(){return Object(ze.jsxs)("div",{className:"wrapper",children:[Object(ze.jsx)(rt,{}),Object(ze.jsx)(bt,{})]})},Ot=Object(o.b)((function(e){return{isAuth:Ce(e)}}),null)((function(e){return e.isAuth?Object(ze.jsx)(ft,Object(b.a)({},e)):Object(ze.jsx)(ye.a,{to:"/auth/login"})})),_t=Ze(150),gt=function(e){var t=e.error,n=e.handleSubmit;return Object(ze.jsxs)("div",{className:"auth wrapper",children:[Object(ze.jsxs)("form",{method:"POST",className:"auth__form",onSubmit:n,children:[Object(ze.jsx)("h1",{className:"auth__heading",children:"User authorization"}),Object(ze.jsx)(De.a,{name:"username",component:Me,className:"form__input",placeholder:"Username:",validate:[Re,_t]}),Object(ze.jsx)(De.a,{name:"password",component:Me,type:"password",className:"form__input",placeholder:"Password:",validate:[Re]}),t&&Object(ze.jsx)("p",{className:"input__error",children:t}),Object(ze.jsx)("button",{type:"submit",className:"form__submit",children:"Login"})]}),Object(ze.jsx)(ge.c,{className:"registration-link",to:"/auth/registration",children:"Registrate"})]})};gt=Object(Ae.a)({form:"login",onSubmitSuccess:function(e,t){return t(Object(te.a)("login"))}})(gt);var xt=Object(o.b)((function(e){return{isAuth:Ce(e)}}),{login:me})((function(e){return e.isAuth?Object(ze.jsx)(ye.a,{to:"/"}):Object(ze.jsx)(gt,{onSubmit:function(t){e.login(t)}})})),vt=Ze(150),Nt=function(e){return Object(ze.jsxs)("div",{className:"auth wrapper",children:[Object(ze.jsxs)("form",{className:"auth__form",method:"POST",onSubmit:e.handleSubmit,children:[Object(ze.jsx)("h1",{className:"auth__heading",children:"User registration"}),Object(ze.jsx)(De.a,{name:"username",component:Me,className:"form__input",placeholder:"Username:",validate:[Re,vt,He]}),Object(ze.jsx)(De.a,{name:"password1",component:Me,type:"password",className:"form__input",placeholder:"Password:",validate:[Re]}),Object(ze.jsx)(De.a,{name:"password2",component:Me,type:"password",className:"form__input",placeholder:"Password again:",validate:[Re]}),e.error&&Object(ze.jsx)("p",{className:"input__error",children:e.error}),Object(ze.jsx)("button",{type:"submit",className:"form__submit",children:"Registrate"})]}),Object(ze.jsx)(ge.c,{className:"registration-link",to:"/auth/login",children:"Already have an account? Login"})]})};Nt=Object(Ae.a)({form:"registration",onSubmitSuccess:function(e,t){return t(Object(te.a)("registration"))}})(Nt);var kt=Object(o.b)((function(e){return{isAuth:Ce(e)}}),{registrate:function(e){return function(){var t=Object(p.a)(m.a.mark((function t(n){var a,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:201===(a=t.sent)?n(me({username:e.username,password:e.password1})):(r=400===a?"Login is already taken or different passwords entered":"Some error occured",n(Object(te.b)("registration",{_error:r})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(ze.jsx)(ye.a,{to:"/"}):Object(ze.jsx)(Nt,{onSubmit:function(t){e.registrate(t)}})})),yt=function(e){Object(Ne.a)(n,e);var t=Object(ke.a)(n);function n(){return Object(xe.a)(this,n),t.apply(this,arguments)}return Object(ve.a)(n,[{key:"componentDidMount",value:function(){this.props.init()}},{key:"render",value:function(){return this.props.isInitialized?Object(ze.jsxs)(ge.b,{basename:"/",children:[Object(ze.jsx)(ye.b,{exact:!0,path:"/",component:Ot}),Object(ze.jsx)(ye.b,{exact:!0,path:"/auth/registration",component:kt}),Object(ze.jsx)(ye.b,{exact:!0,path:"/auth/login",component:xt})]}):Object(ze.jsx)("div",{className:"initalizing loading",children:Object(ze.jsx)(nt,{})})}}]),n}(r.a.Component),Ct=Object(o.b)((function(e){return{isInitialized:e.app.isInitialized}}),{init:function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(je());case 2:t({type:he,boolean:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(yt);s.a.render(Object(ze.jsx)(r.a.StrictMode,{children:Object(ze.jsx)(ge.a,{children:Object(ze.jsx)(o.a,{store:_e,children:Object(ze.jsx)(Ct,{})})})}),document.getElementById("root")),i()}},[[284,1,2]]]);
//# sourceMappingURL=main.86d653e9.chunk.js.map